spring:
  cloud:
    gateway:
      globalcors:
        cors-configurations:
          '[/**]': # 모든 경로에 대해 CORS 적용
            allowedOrigins: # 허용할 Origin(여러 개 가능)
              - "http://localhost:3001"
              - "https://your-frontend.com"
            allowedMethods: # 허용할 HTTP 메서드
              - "*"
            allowedHeaders: # 허용할 헤더
              - "*"
            allowCredentials: true # 인증 정보(쿠키 등) 허용

      routes:
        - id: rebook-user
          uri: http://rebook-user:9000
          predicates:
            - Path=/api/users/**
        - id: rebook-book
          uri: http://rebook-book:9001
          predicates:
            - Path=/api/books/**
        - id: rebook-trading
          uri: http://rebook-trading:9002
          predicates:
            - Path=/api/tradings/**
        - id: rebook-notification
          uri: http://rebook-notification:9004
          predicates:
            - Path=/api/notifications/**
        - id: rebook-chat
          uri: http://rebook-chat:9003
          predicates:
            - Path=/api/chats/**

management:
  endpoints:
    web:
      exposure:
        include: "*"

eureka:
  client:
    service-url:
      defaultZone: http://rebook-eureka:8761/eureka/
    register-with-eureka: true
    fetch-registry: true
  instance:
    instance-id: ${spring.application.name}:origin
